image empty = "photostudio/empty.jpg"
image background = "photostudio/background.jpg"

image ps vicky o1p1 = "photostudio/vicky_o1p1.jpg"
image ps vicky o1p1c1 = "photostudio/vicky_o1p1c1.png"
image ps vicky o1p1c2 = "photostudio/vicky_o1p1c2.png"
image ps vicky o1p1c3 = "photostudio/vicky_o1p1c3.png"
image ps vicky o1p1c4 = "photostudio/vicky_o1p1c4.png"
image ps vicky o1p1c5 = "photostudio/vicky_o1p1c5.png"

image ps vicky o1p2 = "photostudio/vicky_o1p2.jpg"
image ps vicky o1p2 dark = "photostudio/vicky_o1p2_dark.jpg"
image ps vicky o1p2c1 = "photostudio/vicky_o1p2c1.png"
image ps vicky o1p2c2 = "photostudio/vicky_o1p2c2.png"
image ps vicky o1p2c3 = "photostudio/vicky_o1p2c3.png"
image ps vicky o1p2c4 = "photostudio/vicky_o1p2c4.png"
image ps vicky o1p2c5 = "photostudio/vicky_o1p2c5.png"

image ps vicky o1p3 = "photostudio/vicky_o1p3.jpg"
image ps vicky o1p3 dark = "photostudio/vicky_o1p3_dark.jpg"
image ps vicky o1p3c1 = "photostudio/vicky_o1p3c1.png"
image ps vicky o1p3c2 = "photostudio/vicky_o1p3c2.png"
image ps vicky o1p3c3 = "photostudio/vicky_o1p3c3.png"
image ps vicky o1p3c4 = "photostudio/vicky_o1p3c4.png"
image ps vicky o1p3c5 = "photostudio/vicky_o1p3c5.png"

image ps vicky o1p4 = "photostudio/vicky_o1p4.jpg"
image ps vicky o1p4 dark = "photostudio/vicky_o1p4_dark.jpg"
image ps vicky o1p4c1 = "photostudio/vicky_o1p4c1.png"
image ps vicky o1p4c2 = "photostudio/vicky_o1p4c2.png"
image ps vicky o1p4c3 = "photostudio/vicky_o1p4c3.png"
image ps vicky o1p4c4 = "photostudio/vicky_o1p4c4.png"
image ps vicky o1p4c5 = "photostudio/vicky_o1p4c5.png"

image ps vicky o1p5 = "photostudio/vicky_o1p5.jpg"
image ps vicky o1p5 dark = "photostudio/vicky_o1p5_dark.jpg"
image ps vicky o1p5c1 = "photostudio/vicky_o1p5c1.png"
image ps vicky o1p5c2 = "photostudio/vicky_o1p5c2.png"
image ps vicky o1p5c3 = "photostudio/vicky_o1p5c3.png"
image ps vicky o1p5c4 = "photostudio/vicky_o1p5c4.png"
image ps vicky o1p5c5 = "photostudio/vicky_o1p5c5.png"

image ps vicky o2p1 = "photostudio/vicky_o2p1.jpg"
image ps vicky o2p1 dark = "photostudio/vicky_o2p1_dark.jpg"
image ps vicky o2p1c1 = "photostudio/vicky_o2p1c1.png"
image ps vicky o2p1c2 = "photostudio/vicky_o2p1c2.png"
image ps vicky o2p1c3 = "photostudio/vicky_o2p1c3.png"
image ps vicky o2p1c4 = "photostudio/vicky_o2p1c4.png"
image ps vicky o2p1c5 = "photostudio/vicky_o2p1c5.png"

image ps vicky o2p2 = "photostudio/vicky_o2p2.jpg"
image ps vicky o2p2 dark = "photostudio/vicky_o2p2_dark.jpg"
image ps vicky o2p2c1 = "photostudio/vicky_o2p2c1.png"
image ps vicky o2p2c2 = "photostudio/vicky_o2p2c2.png"
image ps vicky o2p2c3 = "photostudio/vicky_o2p2c3.png"
image ps vicky o2p2c4 = "photostudio/vicky_o2p2c4.png"
image ps vicky o2p2c5 = "photostudio/vicky_o2p2c5.png"

image ps vicky o2p3 = "photostudio/vicky_o2p3.jpg"
image ps vicky o2p3 dark = "photostudio/vicky_o2p3_dark.jpg"
image ps vicky o2p3c1 = "photostudio/vicky_o2p3c1.png"
image ps vicky o2p3c2 = "photostudio/vicky_o2p3c2.png"
image ps vicky o2p3c3 = "photostudio/vicky_o2p3c3.png"
image ps vicky o2p3c4 = "photostudio/vicky_o2p3c4.png"
image ps vicky o2p3c5 = "photostudio/vicky_o2p3c5.png"

image ps vicky o2p4 = "photostudio/vicky_o2p4.jpg"
image ps vicky o2p4 dark = "photostudio/vicky_o2p4_dark.jpg"
image ps vicky o2p4c1 = "photostudio/vicky_o2p4c1.png"
image ps vicky o2p4c2 = "photostudio/vicky_o2p4c2.png"
image ps vicky o2p4c3 = "photostudio/vicky_o2p4c3.png"
image ps vicky o2p4c4 = "photostudio/vicky_o2p4c4.png"
image ps vicky o2p4c5 = "photostudio/vicky_o2p4c5.png"

image ps vicky o2p5 = "photostudio/vicky_o2p5.jpg"
image ps vicky o2p5 dark = "photostudio/vicky_o2p5_dark.jpg"
image ps vicky o2p5c1 = "photostudio/vicky_o2p5c1.png"
image ps vicky o2p5c2 = "photostudio/vicky_o2p5c2.png"
image ps vicky o2p5c3 = "photostudio/vicky_o2p5c3.png"
image ps vicky o2p5c4 = "photostudio/vicky_o2p5c4.png"
image ps vicky o2p5c5 = "photostudio/vicky_o2p5c5.png"

image ps vicky o3p1 = "photostudio/vicky_o3p1.jpg"
image ps vicky o3p1 dark = "photostudio/vicky_o3p1_dark.jpg"
image ps vicky o3p1c1 = "photostudio/vicky_o3p1c1.png"
image ps vicky o3p1c2 = "photostudio/vicky_o3p1c2.png"
image ps vicky o3p1c3 = "photostudio/vicky_o3p1c3.png"
image ps vicky o3p1c4 = "photostudio/vicky_o3p1c4.png"
image ps vicky o3p1c5 = "photostudio/vicky_o3p1c5.png"

image ps vicky o3p2 = "photostudio/vicky_o3p2.jpg"
image ps vicky o3p2 dark = "photostudio/vicky_o3p2_dark.jpg"
image ps vicky o3p2c1 = "photostudio/vicky_o3p2c1.png"
image ps vicky o3p2c2 = "photostudio/vicky_o3p2c2.png"
image ps vicky o3p2c3 = "photostudio/vicky_o3p2c3.png"
image ps vicky o3p2c4 = "photostudio/vicky_o3p2c4.png"
image ps vicky o3p2c5 = "photostudio/vicky_o3p2c5.png"

image ps vicky o3p3 = "photostudio/vicky_o3p3.jpg"
image ps vicky o3p3 dark = "photostudio/vicky_o3p3_dark.jpg"
image ps vicky o3p3c1 = "photostudio/vicky_o3p3c1.png"
image ps vicky o3p3c2 = "photostudio/vicky_o3p3c2.png"
image ps vicky o3p3c3 = "photostudio/vicky_o3p3c3.png"
image ps vicky o3p3c4 = "photostudio/vicky_o3p3c4.png"
image ps vicky o3p3c5 = "photostudio/vicky_o3p3c5.png"

image ps vicky o3p4 = "photostudio/vicky_o3p4.jpg"
image ps vicky o3p4 dark = "photostudio/vicky_o3p4_dark.jpg"
image ps vicky o3p4c1 = "photostudio/vicky_o3p4c1.png"
image ps vicky o3p4c2 = "photostudio/vicky_o3p4c2.png"
image ps vicky o3p4c3 = "photostudio/vicky_o3p4c3.png"
image ps vicky o3p4c4 = "photostudio/vicky_o3p4c4.png"
image ps vicky o3p4c5 = "photostudio/vicky_o3p4c5.png"

image ps vicky o3p5 = "photostudio/vicky_o3p5.jpg"
image ps vicky o3p5 dark = "photostudio/vicky_o3p5_dark.jpg"
image ps vicky o3p5c1 = "photostudio/vicky_o3p5c1.png"
image ps vicky o3p5c2 = "photostudio/vicky_o3p5c2.png"
image ps vicky o3p5c3 = "photostudio/vicky_o3p5c3.png"
image ps vicky o3p5c4 = "photostudio/vicky_o3p5c4.png"
image ps vicky o3p5c5 = "photostudio/vicky_o3p5c5.png"

image ps vicky o4p1 = "photostudio/vicky_o4p1.jpg"
image ps vicky o4p1 dark = "photostudio/vicky_o4p1_dark.jpg"
image ps vicky o4p1c1 = "photostudio/vicky_o4p1c1.png"
image ps vicky o4p1c2 = "photostudio/vicky_o4p1c2.png"
image ps vicky o4p1c3 = "photostudio/vicky_o4p1c3.png"
image ps vicky o4p1c4 = "photostudio/vicky_o4p1c4.png"
image ps vicky o4p1c5 = "photostudio/vicky_o4p1c5.png"

image ps vicky o4p2 = "photostudio/vicky_o4p2.jpg"
image ps vicky o4p2 dark = "photostudio/vicky_o4p2_dark.jpg"
image ps vicky o4p2c1 = "photostudio/vicky_o4p2c1.png"
image ps vicky o4p2c2 = "photostudio/vicky_o4p2c2.png"
image ps vicky o4p2c3 = "photostudio/vicky_o4p2c3.png"
image ps vicky o4p2c4 = "photostudio/vicky_o4p2c4.png"
image ps vicky o4p2c5 = "photostudio/vicky_o4p2c5.png"

image ps vicky o4p3 = "photostudio/vicky_o4p3.jpg"
image ps vicky o4p3 dark = "photostudio/vicky_o4p3_dark.jpg"
image ps vicky o4p3c1 = "photostudio/vicky_o4p3c1.png"
image ps vicky o4p3c2 = "photostudio/vicky_o4p3c2.png"
image ps vicky o4p3c3 = "photostudio/vicky_o4p3c3.png"
image ps vicky o4p3c4 = "photostudio/vicky_o4p3c4.png"
image ps vicky o4p3c5 = "photostudio/vicky_o4p3c5.png"

image ps vicky o4p4 = "photostudio/vicky_o4p4.jpg"
image ps vicky o4p4 dark = "photostudio/vicky_o4p4_dark.jpg"
image ps vicky o4p4c1 = "photostudio/vicky_o4p4c1.png"
image ps vicky o4p4c2 = "photostudio/vicky_o4p4c2.png"
image ps vicky o4p4c3 = "photostudio/vicky_o4p4c3.png"
image ps vicky o4p4c4 = "photostudio/vicky_o4p4c4.png"
image ps vicky o4p4c5 = "photostudio/vicky_o4p4c5.png"

image ps vicky o4p5 = "photostudio/vicky_o4p5.jpg"
image ps vicky o4p5 dark = "photostudio/vicky_o4p5_dark.jpg"
image ps vicky o4p5c1 = "photostudio/vicky_o4p5c1.png"
image ps vicky o4p5c2 = "photostudio/vicky_o4p5c2.png"
image ps vicky o4p5c3 = "photostudio/vicky_o4p5c3.png"
image ps vicky o4p5c4 = "photostudio/vicky_o4p5c4.png"
image ps vicky o4p5c5 = "photostudio/vicky_o4p5c5.png"

image ps vicky o5p1 = "photostudio/vicky_o5p1.jpg"
image ps vicky o5p1 dark = "photostudio/vicky_o5p1_dark.jpg"
image ps vicky o5p1c1 = "photostudio/vicky_o5p1c1.png"
image ps vicky o5p1c2 = "photostudio/vicky_o5p1c2.png"
image ps vicky o5p1c3 = "photostudio/vicky_o5p1c3.png"
image ps vicky o5p1c4 = "photostudio/vicky_o5p1c4.png"
image ps vicky o5p1c5 = "photostudio/vicky_o5p1c5.png"

image ps vicky o5p2 = "photostudio/vicky_o5p2.jpg"
image ps vicky o5p2 dark = "photostudio/vicky_o5p2_dark.jpg"
image ps vicky o5p2c1 = "photostudio/vicky_o5p2c1.png"
image ps vicky o5p2c2 = "photostudio/vicky_o5p2c2.png"
image ps vicky o5p2c3 = "photostudio/vicky_o5p2c3.png"
image ps vicky o5p2c4 = "photostudio/vicky_o5p2c4.png"
image ps vicky o5p2c5 = "photostudio/vicky_o5p2c5.png"

image ps vicky o5p3 = "photostudio/vicky_o5p3.jpg"
image ps vicky o5p3 dark = "photostudio/vicky_o5p3_dark.jpg"
image ps vicky o5p3c1 = "photostudio/vicky_o5p3c1.png"
image ps vicky o5p3c2 = "photostudio/vicky_o5p3c2.png"
image ps vicky o5p3c3 = "photostudio/vicky_o5p3c3.png"
image ps vicky o5p3c4 = "photostudio/vicky_o5p3c4.png"
image ps vicky o5p3c5 = "photostudio/vicky_o5p3c5.png"

image ps vicky o5p4 = "photostudio/vicky_o5p4.jpg"
image ps vicky o5p4 dark = "photostudio/vicky_o5p4_dark.jpg"
image ps vicky o5p4c1 = "photostudio/vicky_o5p4c1.png"
image ps vicky o5p4c2 = "photostudio/vicky_o5p4c2.png"
image ps vicky o5p4c3 = "photostudio/vicky_o5p4c3.png"
image ps vicky o5p4c4 = "photostudio/vicky_o5p4c4.png"
image ps vicky o5p4c5 = "photostudio/vicky_o5p4c5.png"

image ps vicky o5p5 = "photostudio/vicky_o5p5.jpg"
image ps vicky o5p5 dark = "photostudio/vicky_o5p5_dark.jpg"
image ps vicky o5p5c1 = "photostudio/vicky_o5p5c1.png"
image ps vicky o5p5c2 = "photostudio/vicky_o5p5c2.png"
image ps vicky o5p5c3 = "photostudio/vicky_o5p5c3.png"
image ps vicky o5p5c4 = "photostudio/vicky_o5p5c4.png"
image ps vicky o5p5c5 = "photostudio/vicky_o5p5c5.png"

init 1000 python:

    CMD_PS_PICK_OUTFIT1 = 10101
    CMD_PS_PICK_OUTFIT2 = 10102
    CMD_PS_PICK_OUTFIT3 = 10103
    CMD_PS_PICK_OUTFIT4 = 10104
    CMD_PS_PICK_OUTFIT5 = 10105
    CMD_PS_PICK_POSE1   = 10201
    CMD_PS_PICK_POSE2   = 10202
    CMD_PS_PICK_POSE3   = 10203
    CMD_PS_PICK_POSE4   = 10204
    CMD_PS_PICK_POSE5   = 10205
    CMD_PS_USE_CAMERA1  = 10301
    CMD_PS_USE_CAMERA2  = 10302
    CMD_PS_USE_CAMERA3  = 10303
    CMD_PS_USE_CAMERA4  = 10304
    CMD_PS_USE_CAMERA5  = 10305

    PS_OUTFIT1 = 10000
    PS_OUTFIT2 = 20000
    PS_OUTFIT3 = 30000
    PS_OUTFIT4 = 40000
    PS_OUTFIT5 = 50000

    PS_POSE1 = 100
    PS_POSE2 = 200
    PS_POSE3 = 300
    PS_POSE4 = 400
    PS_POSE5 = 500

    PS_CAMERA1 = 1
    PS_CAMERA2 = 2
    PS_CAMERA3 = 3
    PS_CAMERA4 = 4
    PS_CAMERA5 = 5

    ps_outfit_map = dict()
    ps_outfit_map[PS_OUTFIT1] = ("o1",10)
    ps_outfit_map[PS_OUTFIT2] = ("o2",10)
    ps_outfit_map[PS_OUTFIT3] = ("o3",20)
    ps_outfit_map[PS_OUTFIT4] = ("o4",20)
    ps_outfit_map[PS_OUTFIT5] = ("o5",30)

    ps_pose_map = dict()
    ps_pose_map[PS_POSE1] = "p1"
    ps_pose_map[PS_POSE2] = "p2"
    ps_pose_map[PS_POSE3] = "p3"
    ps_pose_map[PS_POSE4] = "p4"
    ps_pose_map[PS_POSE5] = "p5"

    ps_camera_map = dict()
    ps_camera_map[PS_CAMERA1] = ("c1",20,2)
    ps_camera_map[PS_CAMERA2] = ("c2",20,2)
    ps_camera_map[PS_CAMERA3] = ("c3",50,5)
    ps_camera_map[PS_CAMERA4] = ("c4",50,5)
    ps_camera_map[PS_CAMERA5] = ("c5",10,1)

    ps_scene_map = dict()
    ps_scene_map[PS_OUTFIT1 + PS_POSE1] = 0
    ps_scene_map[PS_OUTFIT1 + PS_POSE2] = 10
    ps_scene_map[PS_OUTFIT1 + PS_POSE3] = 10
    ps_scene_map[PS_OUTFIT1 + PS_POSE4] = 10
    ps_scene_map[PS_OUTFIT1 + PS_POSE5] = 10
    ps_scene_map[PS_OUTFIT2 + PS_POSE1] = 10
    ps_scene_map[PS_OUTFIT2 + PS_POSE2] = 20
    ps_scene_map[PS_OUTFIT2 + PS_POSE3] = 20
    ps_scene_map[PS_OUTFIT2 + PS_POSE4] = 20
    ps_scene_map[PS_OUTFIT2 + PS_POSE5] = 20
    ps_scene_map[PS_OUTFIT3 + PS_POSE1] = 10
    ps_scene_map[PS_OUTFIT3 + PS_POSE2] = 20
    ps_scene_map[PS_OUTFIT3 + PS_POSE3] = 30
    ps_scene_map[PS_OUTFIT3 + PS_POSE4] = 30
    ps_scene_map[PS_OUTFIT3 + PS_POSE5] = 30
    ps_scene_map[PS_OUTFIT4 + PS_POSE1] = 10
    ps_scene_map[PS_OUTFIT4 + PS_POSE2] = 20
    ps_scene_map[PS_OUTFIT4 + PS_POSE3] = 30
    ps_scene_map[PS_OUTFIT4 + PS_POSE4] = 40
    ps_scene_map[PS_OUTFIT4 + PS_POSE5] = 40
    ps_scene_map[PS_OUTFIT5 + PS_POSE1] = 10
    ps_scene_map[PS_OUTFIT5 + PS_POSE2] = 20
    ps_scene_map[PS_OUTFIT5 + PS_POSE3] = 30
    ps_scene_map[PS_OUTFIT5 + PS_POSE4] = 40
    ps_scene_map[PS_OUTFIT5 + PS_POSE5] = 50

    def ps_outfit_code(id):
        x = ps_outfit_map.get(id)
        return x[0] if x is not None else None

    def ps_outfit_skill(id):
        x = ps_outfit_map.get(id)
        return x[1] if x is not None else None

    def ps_pose_code(id):
        return ps_pose_map.get(id)

    def ps_camera_code(id):
        x = ps_camera_map.get(camera)
        return x[0] if x is not None else None

    def ps_camera_price(id):
        x = ps_camera_map.get(id)
        return x[1] if x is not None else None

    def ps_camera_bonus(id):
        x = ps_camera_map.get(id)
        return x[2] if x is not None else None

    def ps_scene_flag(outfit, pose):
        flag = outfit + pose
        return flag if flag in ps_scene_map else None

    def ps_scene_price(outfit, pose):
        return ps_scene_map.get(outfit + pose)




label ps_main(mob_code, mob_name, mob_flags):

$ ps_name = mob_name
$ ps_outfit = PS_OUTFIT1
$ ps_pose = PS_POSE1

$ show_infobar = False
$ ps_show_infobar = True
while True:
    window hide

    $ ps_outfit_list = []
    $ ps_outfit_list.append((CMD_PS_PICK_OUTFIT1 if ps_outfit is not PS_OUTFIT1 else None, "Casual"))
    $ ps_outfit_list.append((CMD_PS_PICK_OUTFIT2 if ps_outfit is not PS_OUTFIT2 else None, "Cosplay"))
    $ ps_outfit_list.append((CMD_PS_PICK_OUTFIT3 if ps_outfit is not PS_OUTFIT3 else None, "Schoolgirl"))
    $ ps_outfit_list.append((CMD_PS_PICK_OUTFIT4 if ps_outfit is not PS_OUTFIT4 else None, "Bikini"))
    $ ps_outfit_list.append((CMD_PS_PICK_OUTFIT5 if ps_outfit is not PS_OUTFIT5 else None, "Latex"))
    $ ps_pose_list = []
    $ ps_pose_list.append((CMD_PS_PICK_POSE1 if ps_pose is not PS_POSE1 else None, "Standing"))
    $ ps_pose_list.append((CMD_PS_PICK_POSE2 if ps_pose is not PS_POSE2 else None, "Cool girl"))
    $ ps_pose_list.append((CMD_PS_PICK_POSE3 if ps_pose is not PS_POSE3 else None, "Kawaii"))
    $ ps_pose_list.append((CMD_PS_PICK_POSE4 if ps_pose is not PS_POSE4 else None, "Pinup"))
    $ ps_pose_list.append((CMD_PS_PICK_POSE5 if ps_pose is not PS_POSE5 else None, "Naughty"))
    $ ps_score_list = []
    $ ps_score_list.append(ps_outfit + ps_pose + PS_CAMERA1 in mob_flags)
    $ ps_score_list.append(ps_outfit + ps_pose + PS_CAMERA2 in mob_flags)
    $ ps_score_list.append(ps_outfit + ps_pose + PS_CAMERA3 in mob_flags)
    $ ps_score_list.append(ps_outfit + ps_pose + PS_CAMERA4 in mob_flags)
    $ ps_score_list.append(ps_outfit + ps_pose + PS_CAMERA5 in mob_flags)
    $ ps_score_list.sort(reverse=True)

    $ ps_scene = "{} {}{}".format(mob_code, ps_outfit_code(ps_outfit), ps_pose_code(ps_pose))
    $ renpy.scene()
    $ renpy.show("ps {}".format(ps_scene))
    $ cmd = renpy.call_screen("ps_menu", ps_outfit_list, ps_pose_list, ps_score_list)

    if cmd is 0:
        $ ps_show_infobar = False
        $ show_infobar = True
        return
    elif cmd is CMD_PS_PICK_OUTFIT1:
        call ps_pick_scene (mob_code, mob_flags, PS_OUTFIT1, ps_pose)
    elif cmd is CMD_PS_PICK_OUTFIT2:
        call ps_pick_scene (mob_code, mob_flags, PS_OUTFIT2, ps_pose)
    elif cmd is CMD_PS_PICK_OUTFIT3:
        call ps_pick_scene (mob_code, mob_flags, PS_OUTFIT3, ps_pose)
    elif cmd is CMD_PS_PICK_OUTFIT4:
        call ps_pick_scene (mob_code, mob_flags, PS_OUTFIT4, ps_pose)
    elif cmd is CMD_PS_PICK_OUTFIT5:
        call ps_pick_scene (mob_code, mob_flags, PS_OUTFIT5, ps_pose)
    elif cmd is CMD_PS_PICK_POSE1:
        call ps_pick_scene (mob_code, mob_flags, ps_outfit, PS_POSE1)
    elif cmd is CMD_PS_PICK_POSE2:
        call ps_pick_scene (mob_code, mob_flags, ps_outfit, PS_POSE2)
    elif cmd is CMD_PS_PICK_POSE3:
        call ps_pick_scene (mob_code, mob_flags, ps_outfit, PS_POSE3)
    elif cmd is CMD_PS_PICK_POSE4:
        call ps_pick_scene (mob_code, mob_flags, ps_outfit, PS_POSE4)
    elif cmd is CMD_PS_PICK_POSE5:
        call ps_pick_scene (mob_code, mob_flags, ps_outfit, PS_POSE5)
    elif cmd is CMD_PS_USE_CAMERA1:
        call ps_use_camera (mob_code, mob_flags, PS_CAMERA1)
    elif cmd is CMD_PS_USE_CAMERA2:
        call ps_use_camera (mob_code, mob_flags, PS_CAMERA2)
    elif cmd is CMD_PS_USE_CAMERA3:
        call ps_use_camera (mob_code, mob_flags, PS_CAMERA3)
    elif cmd is CMD_PS_USE_CAMERA4:
        call ps_use_camera (mob_code, mob_flags, PS_CAMERA4)
    elif cmd is CMD_PS_USE_CAMERA5:
        call ps_use_camera (mob_code, mob_flags, PS_CAMERA5)
    else:
        $ raise NotImplementedError

return




label ps_pick_scene(mob_code, mob_flags, outfit, pose):

$ ps_flag = ps_scene_flag(outfit, pose)
if ps_flag is None:
    $ renpy.scene()
    $ renpy.show("empty")
    $ renpy.say(None, "Coming soon..." )
    return

if ps_flag not in mob_flags:
    $ ps_scene = "{} {}{}".format(mob_code, ps_outfit_code(outfit), ps_pose_code(pose))
    $ renpy.scene()
    $ renpy.show("ps {} dark".format(ps_scene))
    "Scene is locked."
    $ ps_price = ps_scene_price(outfit, pose)
    $ ps_break = False
    $ ps_menu = []
    $ ps_menu.append(("Unlock scene ({} karma)".format(ps_price), True))
    $ ps_menu.append(("Cancel", False))
    while not ps_break:
        $ cmd = renpy.display_menu(ps_menu)
        if not cmd:
            return
        if karma < ps_price:
            "You do not have enough karma."
        else:
            $ karma -= ps_price
            $ renpy.say(None, "-{} karma".format(ps_price))
            $ mob_flags.add(ps_flag)
            $ renpy.scene()
            $ renpy.show("ps {}".format(ps_scene))
            "Scene unlocked."
            $ ps_break = True

$ ps_outfit = outfit
$ ps_pose = pose

return




label ps_use_camera(mob_code, mob_flags, camera):

$ ps_price = ps_camera_price(camera)
if energy < ps_price:
    "You do not have enough energy."
    return

if ps_skill < ps_outfit_skill(ps_outfit):
    if ps_skill >= 0 and ps_skill < 10:
        if ps_skill is 0:
            $ flags.add(FLAG_READ_PHOTO1)
            player "*** Emm... I do not even know how to use a camera!"
            player "*** Should check some books online..."
        else:
            player "*** I should finish that \"Photography for dummies\" book first!"
    elif ps_skill >= 10 and ps_skill < 20:
        if ps_skill is 10:
            $ flags.add(FLAG_READ_PHOTO2)
            "You try to make a shot, but your hands tremble and you fail."
            player "*** Shit!"
            player "*** I guess I should read more about all this..."
        else:
            player "*** I should finish that \"Advanced photography\" book first!"
    elif ps_skill >= 20 and ps_skill < 30:
        if ps_skill is 20:
            $ flags.add(FLAG_READ_PHOTO3)
            "You try to make a shot, but then step back."
            player "*** Hmm... Not sure if this foreshorten is good enough... And the light..."
            player "*** Maybe I should read more, look for some practical advices from real masters."
        else:
            player "*** I should finish that \"Practical photography for experts\" book first!"
    else:
        $ raise NotImplementedError()
    return

scene background
$ ps_scene = "{} {}{}{}".format(mob_code, ps_outfit_code(ps_outfit), ps_pose_code(ps_pose), ps_camera_code(camera))
$ renpy.show("ps {}".format(ps_scene))
$ renpy.call_screen("ps_camera")
$ energy -= ps_price
show whitebg with Dissolve(0.15)
hide whitebg with Dissolve(0.15)
$ ps_flag = ps_outfit + ps_pose + camera
if ps_flag not in mob_flags:
    $ mob_flags.add(ps_flag)
    $ ps_bonus = ps_camera_bonus(camera)
    "You post picture on instagram."
    $ karma += ps_bonus
    $ renpy.say(None, "+{} karma".format(ps_bonus))
else:
    "Nice shot!"

return
# Decompiled by unrpyc: https://github.com/CensoredUsername/unrpyc
